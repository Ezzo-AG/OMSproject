@model OMSproject.Models.ViewModels.ClientViewModel 

@{
    ViewData["Title"] = "Index";
}
<link rel="stylesheet" href="~/css/OrderStyle/order.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/Table/TablesStyle.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/Table/FormControl.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/Client/index.css" asp-append-version="true" />






<form class="d-flex nav-search" asp-controller="Client" asp-action="Index">



    <fieldset>
        <div asp-validation-summary="ModelOnly" class="warning"></div>
        <h1 class="head-title"> Add New Clients</h1>
        <div>
            <div class="triple-input">
                <div class="form-input-container" style="margin: 8px 16px 0px 0;">
                    @*<label asp-for="Phone" class="control-label lbl-padding" title="Phone Number"></label>*@
                    <input asp-for="Phone" class="form-control" placeholder="Phone Number" />
                    <span asp-validation-for="Phone" class="warning"></span>
                </div>
                <div class="form-input-container">
                    @*<label asp-for="ClientName" class="control-label lbl-padding">Client Name</label>*@
                    <input asp-for="ClientName" class="form-control" style="padding: 6px" placeholder="Client Name" />
                    <span asp-validation-for="ClientName" class="warning"></span>
                </div>
                    <div class="form-input-container">
                    @*<label asp-for="Claasification" class="control-label lbl-padding">Rate</label>*@
                    <select asp-for="Claasification" class="form-control"
                            asp-items="@(new SelectList(Model.ClaasificationList))" placeholder="Rate"></select>
                    <span asp-validation-for="Claasification" class="warning"></span>

                </div>
            </div>
            <div class="form-input-container" style="margin: 0;padding: 0;">
                <button title="Add New Client" type="submit" value="Add Client" style="width: 3%;margin: .4rem 0 0 0rem;padding: .4rem 1.4rem;float: right;" class="table-item searcher">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" style="width: 30px;margin: 0 0 0px -15px; ">
                        <path fill="var(--peachy-red)" d="M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z" />
                            </svg>
                </button>
                    </div>
                </div>

    </fieldset>

    <br />
    <fieldset>

        <h1 class="headers left-floater">Client Index</h1>
        <button class="table-item searcher" asp-action="Search" asp-controller="Client" style="float: right;" title="Search Client">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="30" fill="none" stroke="var(--peachy-red)" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="9" fill="none"></circle>
                <line x1="17.5" y1="17.5" x2="22" y2="22"></line>
            </svg>
        </button>
        <input class="form-control me-2" name="term" type="search" placeholder="Search" aria-label="Search" style="float: right;width: 30%;padding: .6rem;margin: 0 0.5rem 1rem 1rem;  ">
        <table class="table" id="myTable">
            <thead>
                <tr>
                    <th onclick="sortTable(0)">
                        Client ID
                    </th>
                    <th onclick="sortTable(1)">
                        Client Name
                    </th>
                    <th onclick="sortTable(2)">
                        Phone
                    </th>
                    <th onclick="sortTable(3)">
                        Classification
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.ClientsCollection)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Client_id)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.ClientName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Phone)
                        </td>
                        <td id="classifications">
                            <p class="classy">
                                @Html.DisplayFor(modelItem => item.Claasification)
                            </p>
                        </td>
                        <td class="table-item">
                            <a asp-action="Edit" asp-route-id="@item.Client_id" title="Edit Client">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="36" height="36" fill="none" stroke="#000000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M18.16,3.66l2.18,2.18a2,2,0,0,1,0,2.82l-13,13.05a1,1,0,0,1-.7.29H2V17.41a1,1,0,0,1,.29-.7l13.05-13A2,2,0,0,1,18.16,3.66Z"></path>
                                    <line x1="12.5" y1="6.5" x2="17.5" y2="11.5"></line>
                                </svg>

                            </a>
                            @*<a asp-action="Details" asp-route-id="@item.Client_id">Details</a> | <a asp-action="Delete" asp-route-id="@item.Client_id">Delete</a>*@
                            <a asp-action="History" asp-route-id="@item.Client_id" title="Client History">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="36" height="36" fill="none" stroke="#000000" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M3,4V20a2,2,0,0,0,2,2H19a2,2,0,0,0,2-2V9.83a2,2,0,0,0-.59-1.42L14.59,2.59A2,2,0,0,0,13.17,2H5A2,2,0,0,0,3,4Z"></path>
                                    <path d="M20.6,9H16a2,2,0,0,1-2-2V2.4" stroke-linecap="round"></path>
                                    <line x1="16" y1="13" x2="8" y2="13"></line>
                                    <line x1="10" y1="9" x2="8" y2="9"></line>
                                    <line x1="16" y1="17" x2="8" y2="17"></line>
                                </svg>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>

@*@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    }*@

    </fieldset>
</form>

<script>

    document.querySelectorAll(".classy").forEach(function (obj) {
        if (obj.innerText === "Vip") {
            obj.classList.add("Vip");

        }
        if (obj.innerText === "New") {
            obj.classList.add("New");
        }
        else if (obj.innerText === "BlackList")  {

            //BlackList

            obj.classList.add("BlackList");
        }
    });
</script>
